"""
Test import of geometry from a json file generated by geomdl
"""

import os

from yeti_iga import IgaModel
from yeti_iga.exchange import load_geomdl_json

def test_import_multipatch_volume():
    """
    Test import of a multi-volume container defined in 3D space
    """

    script_dir = os.path.dirname(os.path.realpath(__file__))
    filename = 'mvol.json'

    patchs = load_geomdl_json(f'{script_dir}/{filename}')

    model = IgaModel("3D solid")
    for patch in patchs:
        model.add_patch(patch)

def test_import_multipatch_surface():
    """
    Test import of a multi-surface (shell) container defined in 3D space
    """

    script_dir = os.path.dirname(os.path.realpath(__file__))
    filename = 'msurf.json'

    patchs = load_geomdl_json(f'{script_dir}/{filename}')

    model = IgaModel("3D shell")
    for patch in patchs:
        model.add_patch(patch)

if __name__ == '__main__':
    test_import_multipatch_surface()
    test_import_multipatch_volume()
